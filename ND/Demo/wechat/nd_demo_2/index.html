
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Next Digital Campaign Demo 2</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, minimal-ui" />
  <link rel="stylesheet" href="animate.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body style="background-image: url(images/green.png); height:100%;">
<header class="site__header island">
  <div class="wrap" style="margin-bottom:20px;">
    <img src="images/logo.png"></img>
  </div>
  <div style="height:400px; max-width:320px; ">
    <p id="noticeText">Don't touch anything, just look and feel!</p>
    <img id="voiceImg" src="images/voice.png"></img>
    <h4 id="animTitle"></h4>
    <p id="animContent"><p>
  </div>
</header><!-- /.site__header -->

<script src="jquery-1.10.2.min.js"></script>
<script>

  var paragraphIndex = 0;

  function testAnim(x) {
    //$('#animationSandbox').removeClass().addClass(randInEff() + ' animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
    //  $(this).removeClass();
    //});

    var paragraphs = [
        {title: '战略方案--' , content: '将业务发展战略向数字化的战略方案转型是获得成功的关键。我们以客户为导向，创造客户专属的数字战略方案，连接，吸引并留住目标受众。'}
        ,{title: '创意设计--' , content: '成功的数字项目源于以客户为中心的创意设计。我们完美融合用户体验、艺术美学以及交互功能，以战略方案为引导，以设计流程为方法，最终完成创意设计，为您带来预期的营销成果。'}
        ,{title: '前瞻科技--' , content: '顶尖的科技和专家帮助您利用网络力量实现业务增长的需要。我们令人骄傲的强大科技背景和实力使我们将前瞻科技与行业洞察力相结合，来实现您的成功。'}
        ,{title: '市场营销--' , content: '数字营销的无限可能在于您如何接触，转化并留住您的客户。而我们，正是以业绩为导向的营销大师。'}
        ,{title: '官方微信--', content: '关注我们的官方微信nextdigital_sh来获取更多消息。'}];
         
     
     
     var run = setInterval(function(){ 

         $('#voiceImg').hide();
         $('#noticeText').hide();
         
         animParapraph(paragraphIndex, paragraphs.length, paragraphs[paragraphIndex].title, paragraphs[paragraphIndex].content);
         paragraphIndex=paragraphIndex+1;
         if(paragraphIndex>paragraphs.length-1){
            clearInterval(run);
         }
      }
      , 7000);
  };

  function animParapraph(curIndex, total, title, content){
      var titleLen = title.length;
      var contentLen = content.length;
      var titleHtml = '';
      for(var i=0;i<titleLen;i++){
          titleHtml = titleHtml + '<span class="t1" style="display: block; float: left;">'+title.substring(i,i+1)+'</span>';
      }
      $('#animTitle').html(titleHtml);
      setEff(curIndex, total, $('.t1'));
     
      var contentHtml = '';
      for(var i=0;i<contentLen;i++){
          contentHtml = contentHtml + '<span class="c1" style="display: block; float: left;">'+content.substring(i,i+1)+'</span>';
      }
      $('#animContent').html(contentHtml);
      setEff(curIndex, total, $('.c1'));
  }

  function setEff(curIndex, total, $container){
      $container.each(function(){
        if(curIndex>=total-1){
          $(this).removeClass().addClass('animated '+randInEff());
        }
        else{
          $(this).removeClass().addClass('animated '+randInEff()).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
          var $this = $(this);
          var runOut = setTimeout(function(){
            $this.removeClass().addClass('animated '+randOutEff());
          }, 3000);
          });   
        }
      })      
  }

  function randInEff(){
      var i=Math.floor((Math.random() * 4) + 1);
      switch(i){
          case 1:
            return 'bounceInDown';
            case 2:
            return 'bounceInLeft';
            case 3:
            return 'bounceInRight';
            case 4:
            return 'bounceInUp';
            default:
            return 'bounceIn'
      }
  }

  function randOutEff(){
      var i=Math.floor((Math.random() * 4) + 1);
      switch(i){
          case 1:
            return 'bounceOutDown';
            case 2:
            return 'bounceOutLeft';
            case 3:
            return 'bounceOutRight';
            case 4:
            return 'bounceOutUp';
            default:
            return 'bounceOut'
      }
  }

  $(document).ready(function(){
    $('.js--triggerAnimation').click(function(e){
      e.preventDefault();
      var anim = $('.js--animations').val();
      testAnim(anim);
    });

    var anim = $(this).val();
    testAnim(anim);

    $('#voiceImg').addClass('animated rollIn').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
          var $this = $(this);
          var runOut = setTimeout(function(){
            $this.removeClass().addClass('animated hinge');
          }, 4000);
        });        
  });

</script>

</body>
</html>
